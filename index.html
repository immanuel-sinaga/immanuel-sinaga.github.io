<!DOCTYPE html>
<html class="scroll-smooth" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>[Your Name] | [Your Professional Title]</title>
  <meta name="description" content="The portfolio of [Your Name], a student and professional in [Your Field], currently building and showcasing projects."/>
  <meta name="keywords" content="portfolio, template, developer, projects, skills, resume"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://your-domain.com/"/>
  <meta property="og:title" content="[Your Name] | [Your Professional Title]"/>
  <meta property="og:description" content="The portfolio of [Your Name], a student and professional in [Your Field], currently building and showcasing projects."/>
  <meta property="og:image" content="https://placehold.co/1200x630/e5e7eb/374151?text=Your+Initials"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta property="twitter:url" content="https://your-domain.com/"/>
  <meta property="twitter:title" content="[Your Name] | [Your Professional Title]"/>
  <meta property="twitter:description" content="The portfolio of [Your Name], a student and professional in [Your Field], currently building and showcasing projects."/>
  <meta property="twitter:image" content="https://placehold.co/1200x630/e5e7eb/374151?text=Your+Initials"/>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='15' fill='%230ea5e9'%3E%3C/rect%3E%3Ctext x='50%25' y='50%25' dominant-baseline='central' text-anchor='middle' font-size='50' font-family='sans-serif' fill='white' font-weight='bold'%3EYN%3C/text%3E%3C/svg%3E"/>

  <!-- Preconnects to speed up font & CDN -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- Tailwind CDN: defer application and cut preflight for less work, visuals preserved -->
  <script>
    window.tailwind = { config: {
      corePlugins: { preflight: false } // keep browser defaults; template already styles via classes
    }};
  </script>
  <script src="https://cdn.tailwindcss.com" defer></script>

  <style>
    /* --- Base & Fonts --- */
    body{font-family:'Inter',sans-serif;background-color:#f8fafc;color:#1f2937;overflow-x:hidden}
    html{-ms-overflow-style:none;scrollbar-width:none;scrollbar-gutter:stable both-edges;scroll-padding-top:72px}
    html::-webkit-scrollbar,body::-webkit-scrollbar{width:0;height:0}
    @media (min-width:1024px){html{scroll-padding-top:0}}

    /* Avoid permanent will-change reservations */
    main{background:radial-gradient(600px circle at var(--x) var(--y),rgba(29,78,216,.15),transparent 80%)}
    .animated-gradient{background-size:200% 200%;animation:gradient-animation 5s ease infinite}
    @keyframes gradient-animation{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    .fade-in-section{opacity:0;transform:translateY(20px);transition:opacity .6s ease-out,transform .6s ease-out}
    .fade-in-section.is-visible{opacity:1;transform:translateY(0)}

    /* --- Containment to limit layout/paint scope --- */
    main,aside,section,.sidebar-page,.project-card{contain:content}
    section,.sidebar-page{content-visibility:auto;contain-intrinsic-size:800px}

    .glass-nav{background-color:rgba(249,250,251,.75);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:1px solid rgba(0,0,0,.05)}

    /* --- Animated Blobs --- */
    .blob{position:absolute;border-radius:50%;opacity:.3;filter:blur(80px);transform:translateZ(0);pointer-events:none}
    #profile .blob{opacity:.15;filter:blur(100px)}
    .blob-1{width:400px;height:400px;background-color:#0ea5e9;top:-50px;left:-100px;animation:move 25s infinite alternate}
    .blob-2{width:500px;height:500px;background-color:#2dd4bf;bottom:-150px;right:-150px;animation:move 30s infinite alternate-reverse}
    .blob-3{width:350px;height:350px;background-color:#a78bfa;top:30%;right:10%;animation:move 28s infinite alternate}
    @keyframes move{from{transform:translate3d(0,0,0) rotate(0) scale(1)}to{transform:translate3d(100px,50px,0) rotate(90deg) scale(1.1)}}
    .anim-paused .blob,.anim-paused .animated-gradient{animation-play-state:paused!important}

    .project-card{border:1px solid rgba(0,0,0,.05);background:#fff;transition:transform .3s ease,box-shadow .3s ease;box-shadow:0 4px 6px -1px rgb(0 0 0 / .1),0 2px 4px -2px rgb(0 0 0 / .1)}
    .project-card:hover{transform:translateY(-8px);box-shadow:0 10px 15px -3px rgb(0 0 0 / .1),0 4px 6px -4px rgb(0 0 0 / .1)}
    .timeline-item{position:relative;padding-left:2.5rem;padding-bottom:2.5rem}
    .timeline-item:last-child{padding-bottom:0}
    .timeline-item::before{content:'';position:absolute;left:.4rem;top:.25rem;width:2px;height:100%;background-color:#e5e7eb}
    .timeline-item::after{content:'';position:absolute;left:0;top:.25rem;height:.875rem;width:.875rem;border-radius:9999px;background-color:#fff;border:2px solid #0ea5e9}

    /* Sidebar pages */
    .sidebar-page{position:absolute;inset:0;opacity:0;transition:opacity .35s ease;pointer-events:none;display:flex;flex-direction:column;justify-content:space-between;padding:2rem;overflow-y:auto}
    @media (min-width:640px){.sidebar-page{padding:3rem}}
    .sidebar-page.active{opacity:1;pointer-events:auto}
    .sidebar-nav-button.active{color:#0ea5e9}

    /* Socials */
    #sidebar-socials{display:none;gap:10px;align-items:center;flex-wrap:nowrap;padding:6px 4px 12px 4px;position:relative;z-index:30}
    .profile-visible #sidebar-socials{display:flex}
    #sidebar-socials a,#sidebar-socials a *{color:#fff!important;fill:#fff!important}
    #sidebar-socials a{transition:transform .15s ease,opacity .15s ease;opacity:.9;border-radius:9999px}
    #sidebar-socials a:hover,#sidebar-socials a:focus-visible{transform:translateY(-1px) scale(1.03);opacity:1;outline:none}

    /* Glow bar transforms only (no top changes) */
    #scroll-glow{will-change:transform,opacity}

    /* Respect reduced motion users (no visual change to default) */
    @media (prefers-reduced-motion: reduce){
      .animated-gradient,.blob{animation:none!important}
      .fade-in-section{transition:none}
    }
  </style>
</head>
<body class="antialiased">
<header class="glass-nav fixed top-0 left-0 right-0 z-50 transition-all duration-300 lg:hidden" id="header">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <a class="text-2xl font-bold text-gray-900 tracking-wider" href="#profile">YN.</a>
    <nav class="flex items-center space-x-6">
      <a class="nav-link transition-colors hover:text-sky-600" href="#profile">About</a>
      <a class="nav-link transition-colors hover:text-sky-600" href="#education">Education</a>
      <a class="nav-link transition-colors hover:text-sky-600" href="#projects">Projects</a>
    </nav>
  </div>
</header>

<div class="lg:flex">
  <aside class="scroll-mt-20 bg-slate-900 lg:w-1/3 h-screen lg:sticky lg:top-0 relative overflow-hidden" id="profile">
    <div class="absolute inset-0 -z-10 overflow-hidden">
      <div class="blob blob-1"></div><div class="blob blob-2"></div><div class="blob blob-3"></div>
    </div>
    <div class="absolute right-0 h-48 w-2 bg-sky-300 opacity-0 transition-all duration-300 ease-out pointer-events-none" id="scroll-glow" style="filter: blur(15px);"></div>

    <div class="sidebar-page active" id="page-about">
      <div>
        <header class="pt-16 lg:pt-0">
          <img alt="Your Name" class="rounded-full shadow-lg mx-auto lg:mx-0 w-32 h-32 mb-6" src="https://placehold.co/128x128/e5e7eb/374151?text=YN" loading="lazy" decoding="async"/>
          <h1 class="text-4xl lg:text-5xl font-bold text-white">[Your Name]</h1>
          <p class="animated-gradient text-xl md:text-2xl bg-gradient-to-r from-sky-500 via-teal-500 to-purple-500 bg-clip-text text-transparent mt-2 font-semibold">[Your Specialization or Role]</p>
        </header>
        <div class="mt-8 text-slate-300 text-lg">
          <p>This section is under construction. Please write a brief and engaging summary about your professional background, your key skills, and your career aspirations here. Explain what drives your passion for your field.</p>
        </div>
        <div class="mt-8" id="sidebar-socials">
          <!-- Social icons unchanged -->
          <a aria-label="Open GitHub in new tab" class="hover:text-sky-500 transition duration-300 transform hover:scale-110 cursor-pointer focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-900 rounded-full inline-flex items-center justify-center p-2" href="https://github.com/yourusername" rel="noopener noreferrer" target="_blank" title="GitHub"><span class="sr-only">GitHub</span><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path clip-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.286 2.866 7.92 6.736 9.284.49.09.668-.213.668-.473 0-.233-.008-.85-.012-1.668-2.782.604-3.37-1.34-3.37-1.34-.446-1.13-1.09-1.43-1.09-1.43-.89-.608.068-.596.068-.596.984.07 1.503.998 1.503.998.874 1.493 2.292 1.062 2.852.812.09-.63.342-1.062.62-1.306-2.176-.248-4.464-1.088-4.464-4.842 0-1.068.38-1.942 1.006-2.626-.1-.248-.436-1.24.096-2.586 0 0 .822-.264 2.694.996.782-.218 1.622-.326 2.46-.33.838.004 1.678.112 2.46.33 1.872-1.26 2.692-.996 2.692-.996.534 1.346.198 2.338.098 2.586.628.684 1.004 1.558 1.004 2.626 0 3.764-2.292 4.592-4.478 4.834.35.302.662.896.662 1.806 0 1.306-.012 2.36-.012 2.68 0 .262.176.568.674.472C19.138 19.92 22 16.286 22 12c0-5.523-4.477-10-10-10z" fill-rule="evenodd"></path></svg></a>
          <a aria-label="Open Twitter in new tab" class="hover:text-sky-500 transition duration-300 transform hover:scale-110 cursor-pointer focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-900 rounded-full inline-flex items-center justify-center p-2" href="https://twitter.com/yourhandle" rel="noopener noreferrer" target="_blank" title="Twitter"><span class="sr-only">Twitter</span><svg aria-hidden="true" class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a>
          <a aria-label="Open LinkedIn in new tab" class="hover:text-sky-500 transition duration-300 transform hover:scale-110 cursor-pointer focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-900 rounded-full inline-flex items-center justify-content p-2" href="https://www.linkedin.com/in/your-profile/" rel="noopener noreferrer" target="_blank" title="LinkedIn"><span class="sr-only">LinkedIn</span><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path clip-rule="evenodd" d="M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014V8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 2H6.32C3.963 2 2 3.963 2 6.32v11.36C2 20.037 3.963 22 6.32 22h11.348C20.038 22 22 20.037 22 17.68V6.32C22 3.963 20.038 2 17.668 2z" fill-rule="evenodd"></path></svg></a>
        </div>
      </div>
    </div>

    <div class="sidebar-page" id="page-skills">
      <div>
        <header class="pt-16 lg:pt-0">
          <h2 class="text-4xl lg:text-5xl font-bold text-white">Skills</h2>
          <p class="text-xl text-slate-400 mt-2">My technical toolbox.</p>
        </header>
        <div class="mt-8">
          <h3 class="text-lg font-semibold mb-3 text-sky-400 uppercase tracking-widest">Languages</h3>
          <div class="flex flex-wrap gap-3">
            <span class="bg-sky-400/10 text-sky-300 ring-1 ring-inset ring-sky-400/20 px-3 py-1 rounded-full text-sm font-medium">Language 1</span>
            <span class="bg-sky-400/10 text-sky-300 ring-1 ring-inset ring-sky-400/20 px-3 py-1 rounded-full text-sm font-medium">Language 2</span>
            <span class="bg-sky-400/10 text-sky-300 ring-1 ring-inset ring-sky-400/20 px-3 py-1 rounded-full text-sm font-medium">Language 3</span>
          </div>
        </div>
        <div class="mt-8">
          <h3 class="text-lg font-semibold mb-3 text-teal-400 uppercase tracking-widest">Tools &amp; Tech</h3>
          <div class="flex flex-wrap gap-3">
            <span class="bg-teal-400/10 text-teal-300 ring-1 ring-inset ring-teal-400/20 px-3 py-1 rounded-full text-sm font-medium">Technology 1</span>
            <span class="bg-teal-400/10 text-teal-300 ring-1 ring-inset ring-teal-400/20 px-3 py-1 rounded-full text-sm font-medium">Tool 2</span>
            <span class="bg-teal-400/10 text-teal-300 ring-1 ring-inset ring-teal-400/20 px-3 py-1 rounded-full text-sm font-medium">Platform 3</span>
            <span class="bg-teal-400/10 text-teal-300 ring-1 ring-inset ring-teal-400/20 px-3 py-1 rounded-full text-sm font-medium">Framework 4</span>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-page" id="page-contact">
      <div>
        <header class="pt-16 lg:pt-0">
          <h2 class="text-4xl lg:text-5xl font-bold text-white">Get In Touch</h2>
          <p class="text-xl text-slate-400 mt-2">Let's build something great together.</p>
        </header>
        <div class="mt-12 text-center">
          <a class="inline-block w-full text-center bg-sky-500 hover:bg-sky-600 text-white font-bold py-4 px-8 rounded-full transition duration-300 transform hover:scale-105" href="mailto:email@domain.com">Send me an Email</a>
          <a class="inline-block w-full text-center mt-4 text-slate-300 hover:text-white border-b border-slate-400 hover:border-white transition" download="[YourName]_Resume.pdf" href="/path-to-your-resume.pdf">Download My Resume</a>
        </div>
      </div>
    </div>

    <nav class="absolute bottom-0 left-0 right-0 flex justify-center p-4">
      <div class="flex space-x-6 bg-slate-800/50 backdrop-blur-sm rounded-full px-6 py-3">
        <button class="sidebar-nav-button active text-slate-400 hover:text-sky-500 transition" data-page="page-about">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
        </button>
        <button class="sidebar-nav-button text-slate-400 hover:text-sky-500 transition" data-page="page-skills">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
        </button>
        <button class="sidebar-nav-button text-slate-400 hover:text-sky-500 transition" data-page="page-contact">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
        </button>
      </div>
    </nav>
  </aside>

  <main class="lg:w-2/3 relative overflow-hidden">
    <div class="absolute inset-0 -z-10 overflow-hidden">
      <div class="blob blob-1"></div><div class="blob blob-2"></div><div class="blob blob-3"></div>
    </div>
    <div class="relative z-10">
      <section class="scroll-mt-20 py-16 sm:py-20 lg:py-24 px-8 sm:px-12 bg-white/80 backdrop-blur-lg" id="education">
        <h2 class="text-3xl md:text-4xl font-bold mb-12 text-gray-900 fade-in-section">Education &amp; Experience</h2>
        <div class="fade-in-section">
          <div class="timeline-item">
            <p class="text-sm font-medium text-sky-600">Expected Graduation: [Year]</p>
            <h3 class="text-xl font-bold text-gray-900 mt-1">[Your Degree]</h3>
            <p class="text-gray-500 font-medium">[University Name]</p>
            <p class="text-gray-600 mt-2">Relevant Coursework: [List of key relevant courses or academic achievements. Highlight what you've learned.] Maintained a [Your GPA].</p>
          </div>
          <div class="timeline-item">
            <p class="text-sm font-medium text-sky-600">[Date Range]</p>
            <h3 class="text-xl font-bold text-gray-900 mt-1">[Your Role or Key Project]</h3>
            <p class="text-gray-500 font-medium">[Company Name or 'Personal Project']</p>
            <p class="text-gray-600 mt-2">Briefly describe your responsibilities or the project's goal. Mention a key achievement or technology you used. This text is a placeholder.</p>
          </div>
        </div>
      </section>

      <section class="scroll-mt-20 py-16 sm:py-20 lg:py-24 px-8 sm:px-12 bg-gray-50/80 backdrop-blur-lg" id="projects">
        <h2 class="text-3xl md:text-4xl font-bold mb-12 text-gray-900 fade-in-section">My Projects</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="project-card rounded-lg overflow-hidden fade-in-section">
            <img alt="Project One Placeholder" class="w-full h-48 object-cover" src="https://placehold.co/600x400/e5e7eb/38bdf8?text=Project+One" loading="lazy" decoding="async"/>
            <div class="p-6">
              <h3 class="text-xl font-bold mb-2 text-gray-900">[Project Title 1]</h3>
              <p class="text-gray-600 mb-4">Provide a concise description of your project here. What problem does it solve, what technologies were used, and what was your role in its development?</p>
              <div class="mt-4 flex flex-wrap gap-2"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 1]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 2]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 3]</span></div>
              <div class="flex space-x-4 mt-4"><a class="text-sky-600 hover:text-sky-500 transition duration-300 font-medium" href="#">View on GitHub</a></div>
            </div>
          </div>
          <div class="project-card rounded-lg overflow-hidden fade-in-section">
            <img alt="Project Two Placeholder" class="w-full h-48 object-cover" src="https://placehold.co/600x400/e5e7eb/14b8a6?text=Project+Two" loading="lazy" decoding="async"/>
            <div class="p-6">
              <h3 class="text-xl font-bold mb-2 text-gray-900">[Project Title 2]</h3>
              <p class="text-gray-600 mb-4">Provide a concise description of your project here. What problem does it solve, what technologies were used, and what was your role in its development?</p>
              <div class="mt-4 flex flex-wrap gap-2"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 1]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 2]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 3]</span></div>
              <div class="flex space-x-4 mt-4"><a class="text-sky-600 hover:text-sky-500 transition duration-300 font-medium" href="#">View on GitHub</a><a class="text-sky-600 hover:text-sky-500 transition duration-300 font-medium" href="#">Live Demo</a></div>
            </div>
          </div>
          <div class="project-card rounded-lg overflow-hidden fade-in-section">
            <img alt="Project Three Placeholder" class="w-full h-48 object-cover" src="https://placehold.co/600x400/e5e7eb/8b5cf6?text=Project+Three" loading="lazy" decoding="async"/>
            <div class="p-6">
              <h3 class="text-xl font-bold mb-2 text-gray-900">[Project Title 3]</h3>
              <p class="text-gray-600 mb-4">Provide a concise description of your project here. What problem does it solve, what technologies were used, and what was your role in its development?</p>
              <div class="mt-4 flex flex-wrap gap-2"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 1]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 2]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 3]</span></div>
              <div class="flex space-x-4 mt-4"><a class="text-sky-600 hover:text-sky-500 transition duration-300 font-medium" href="#">View on GitHub</a></div>
            </div>
          </div>
          <div class="project-card rounded-lg overflow-hidden fade-in-section">
            <img alt="Project Four Placeholder" class="w-full h-48 object-cover" src="https://placehold.co/600x400/e5e7eb/ef4444?text=Project+Four" loading="lazy" decoding="async"/>
            <div class="p-6">
              <h3 class="text-xl font-bold mb-2 text-gray-900">[Project Title 4]</h3>
              <p class="text-gray-600 mb-4">Provide a concise description of your project here. What problem does it solve, what technologies were used, and what was your role in its development?</p>
              <div class="mt-4 flex flex-wrap gap-2"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 1]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 2]</span><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-medium">[Tech 3]</span></div>
              <div class="flex space-x-4 mt-4"><a class="text-sky-600 hover:text-sky-500 transition duration-300 font-medium" href="#">Read Documentation</a></div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
</div>

<script>
// Optimized JS: fewer layout reads per frame, rAF-throttled, cached metrics
(function(){
  const root = document.documentElement;
  const header = document.getElementById('header');
  const profile = document.getElementById('profile');
  const mainContent = document.querySelector('main');
  const scrollGlow = document.getElementById('scroll-glow');
  const sections = Array.from(document.querySelectorAll('aside[id], main section[id]'));
  const navLinks = Array.from(document.querySelectorAll('header nav a.nav-link'));
  const sidebarNavButtons = document.querySelectorAll('.sidebar-nav-button');
  const sidebarPages = document.querySelectorAll('.sidebar-page');

  let metrics = { headerH: 0, glowH: 0, sectionBoxes: [] };
  let ticking = false;

  // Pause heavy animations when tab hidden
  document.addEventListener('visibilitychange', ()=>{
    if (document.hidden) root.classList.add('anim-paused');
    else root.classList.remove('anim-paused');
  });

  // Compute and cache rects/metrics
  function computeMetrics(){
    metrics.headerH = header ? header.offsetHeight : 0;
    metrics.glowH = scrollGlow ? scrollGlow.offsetHeight : 0;
    metrics.sectionBoxes = sections.map(sec=>{
      const r = sec.getBoundingClientRect();
      // convert to document coordinates
      const top = r.top + window.scrollY;
      const bottom = top + r.height;
      return { id: sec.id, top, bottom };
    });
  }

  // Debounced recalculation
  const recalc = ()=>{
    if (ticking) return;
    ticking = true;
    requestAnimationFrame(()=>{ computeMetrics(); ticking = false; });
  };
  window.addEventListener('resize', recalc, { passive:true });
  window.addEventListener('orientationchange', recalc, { passive:true });

  // Intersection Observer for staggered fades
  const io = new IntersectionObserver((entries)=>{
    for (const entry of entries){
      if (entry.isIntersecting){
        const els = entry.target.querySelectorAll('.fade-in-section');
        els.forEach((el,i)=>{ el.style.transitionDelay = (i*150)+'ms'; el.classList.add('is-visible'); });
        io.unobserve(entry.target);
      }
    }
  }, { threshold: 0.1, rootMargin: '0px 0px -10% 0px' });
  document.querySelectorAll('section, aside').forEach(el=>io.observe(el));

  // Smooth anchor scrolling
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', (e)=>{
      const href = a.getAttribute('href'); if (!href || href==='#') return;
      const target = document.querySelector(href); if (!target) return;
      e.preventDefault();
      const y = target.getBoundingClientRect().top + window.pageYOffset - (metrics.headerH || 0) - 8;
      window.scrollTo({ top:y, behavior:'smooth' });
      history.pushState(null, '', href);
    }, { passive:true });
  });

  // Sidebar page nav (unchanged visuals)
  sidebarNavButtons.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const id = btn.dataset.page;
      sidebarPages.forEach(p=>p.classList.toggle('active', p.id===id));
      sidebarNavButtons.forEach(b=>b.classList.toggle('active', b.dataset.page===id));
    }, { passive:true });
  });

  // Spotlight cursor effect (already uses rAF)
  if (mainContent){
    let rafId = null;
    mainContent.addEventListener('mousemove', (e)=>{
      if (rafId) return;
      rafId = requestAnimationFrame(()=>{
        const rect = mainContent.getBoundingClientRect();
        mainContent.style.setProperty('--x', (e.clientX - rect.left)+'px');
        mainContent.style.setProperty('--y', (e.clientY - rect.top)+'px');
        rafId = null;
      });
    }, { passive:true });
  }

  // Scroll handler with cached metrics only
  function onScroll(){
    const y = window.scrollY;
    const docH = root.scrollHeight;
    const clientH = root.clientHeight;

    // Glow translateY and opacity
    if (scrollGlow){
      const scrollable = Math.max(1, docH - clientH);
      const pct = y / scrollable;
      const maxY = clientH - (metrics.glowH || 0);
      const ty = Math.max(0, Math.min(maxY, pct * maxY));
      scrollGlow.style.transform = 'translateY(' + ty + 'px)';
      scrollGlow.style.opacity = y > 20 ? '0.4' : '0';
    }

    // Active nav highlight using cached section bounds
    const lineY = y + (metrics.headerH || 0) + 20;
    let current = 'profile';
    for (let i=0;i<metrics.sectionBoxes.length;i++){
      const b = metrics.sectionBoxes[i];
      if (b.top <= lineY && b.bottom > lineY){ current = b.id; break; }
    }
    navLinks.forEach(link=>{
      const isActive = link.getAttribute('href') === '#' + current;
      link.classList.toggle('text-sky-600', isActive);
      link.classList.toggle('font-bold', isActive);
    });
  }
  const onScrollRaf = (()=>{
    let run=false; return function(){ if (run) return; run=true; requestAnimationFrame(()=>{ onScroll(); run=false; }); }
  })();
  window.addEventListener('scroll', onScrollRaf, { passive:true });

  // Initial paints
  computeMetrics();
  onScroll();

  // Microtask: recalc after fonts loaded (affects sizes)
  if (document.fonts && document.fonts.ready){ document.fonts.ready.then(recalc); }
  // Recalc after images load in case of late sizing
  window.addEventListener('load', recalc, { once:true });
})();
</script>
</body>
</html>
